<div class="ui grid">
    <div class="row">
        <div class="column">
            <div class="ui warning message">
                <div class="header">
                    The website at {{ url }} is already connected
                </div>
                This website is already connected to another account, and for security reasons we can't disclose that account's details. You can connect the website with this account, but then it won't be manageable from the other account.
            </div>
        </div>
    </div>
</div>

<div class="ui middle aligned very relaxed stackable grid" ng-class="{'two column':loginFormFound}">
    <div class="row">

        <div class="center aligned middle aligned column">
            <p>
                You can go to <a ng-href="{{ disconnectUrl }}" target="_blank">this page</a> and disconnect the website from any dashboard that it's connected to. Then click:
            </p>

            <div ng-if="connectWebsiteErrors.stillConnected" class="ui negative message">
                <p>The site still appears to be connected to the other account.</p>
            </div>

            <button class="ui primary labeled icon submit button" ng-class="{loading:connectWebsiteLoading}" ng-disabled="connectWebsiteActive" ng-click="reconnectClick()">
                <i class="linkify icon"></i>
                Connect Website
            </button>
        </div>

        <div class="ui vertical divider" ng-if="loginFormFound">
            Or
        </div>

        <div class="column" ng-if="loginFormFound">
            <p>... we can do that for you if you provide us with <strong>{{ url }}</strong> administrator credentials:</p>

            <form class="ui form" ng-submit="reconnectFormSubmit(reconnectForm)" name="reconnectForm">

                <div class="field">
                    <label>Username</label>

                    <div class="ui left icon input">
                        <input type="text" placeholder="Your Drupal username" name="username" ng-model="reconnectFormData.username" required>
                        <i class="user icon"></i>
                    </div>
                </div>
                <div class="field">
                    <label>Password</label>

                    <div class="ui left icon input">
                        <input placeholder="Your Drupal password" type="password" name="password" ng-model="reconnectFormData.password" required>
                        <i class="lock icon"></i>
                    </div>
                </div>

                <div ng-if="reconnectForm.$pristine && connectWebsiteErrors.invalidCredentials" class="ui negative message">
                    <p>Invalid credentials provided.</p>
                </div>

                <button class="ui primary labeled icon submit button" ng-class="{loading:autoConnectWebsiteLoading}" ng-disabled="connectWebsiteActive">
                    <i class="linkify icon"></i>
                    Automatically Connect Website
                </button>
            </form>

            <div class="ui info message">
                These credentials are only used now and are <strong>not</strong> saved anywhere on our system.
            </div>
        </div>

    </div>
</div>
